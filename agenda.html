<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="style2.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"> 
    <style>
      .filaCitas:hover{
        cursor: pointer;
        color:color !important;
        font-weight: bold;
        background:white !important;
      }
      .flotante {
        position: fixed; /* Fixed/sticky position */
        bottom: 20px; /* Place the button at the bottom of the page */
        right: 20px; /* Place the button 30px from the right */
        z-index: 99; /* Make sure it does not overlap */
        border: none; /* Remove borders */
        outline: none; /* Remove outline */
        background-color: white; /* Set a background color */
        color: white; /* Text color */
        cursor: pointer; /* Add a mouse pointer on hover */
        padding: 5px; /* Some padding */
        border-radius: 10px; /* Rounded corners */
        width:50px;
      }
      .flotante img{
        width:100%;
      }
    </style>
    <script src="https://momentjs.com/downloads/moment.min.js"></script> <!--Moments Library-->
    <script src="./cute-alert.js"></script>
   <title>Agenda - Direccion de Mujeres - S.D.S.</title>
</head>
<body onload="CargarCitas();">

<nav class="navbar text-center navbar-expand-lg navbar-dark bg-dark navbar-toggleable-sm sticky-top">
        <a class="navbar-brand" href="InicioMujeres.html">
            Direccion de Mujeres - Sec. de Desarrollo Social.
         </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo01" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>


  <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
    <ul class="navbar-nav text-center">
      <li class="nav-item ">
        <a class="nav-link" href="InicioMujeres.html">Inicio</a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="agenda.html">Agenda</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="Cerrar.php">Cerrar Sesion</a>
      </li> 
           
    </ul>
  </div>
</nav>

<div class="buscador mt-5 mr-5 ml-5 p-4 ">        
    <h3 class="welcome">AGENDA</h3>
    
      <div class="row text-center" style="justify-content: center;">
          <div class="col-6">
              <input type="date" class="form-control" id="fecha" >
          </div>
          <div class="col-1">
            <button type="submit" onclick="BuscarCitas();" class="btn btn-primary" class="form-control"><i class="fas fa-search fa-1x"></i></button>
          </div>         
      </div>
     
</div>

<div id="tabla" class="buscador mt-2"> 
  <button type="button" class="btn btn-primary m-2 " style="float:right" onclick="NuevaCita()">Nueva</button>
  <div class="table-responsive">
  <table class="table table-hover mt-2 text-center" style="color:white;" id="tabla-citas">
        <thead>
           <tr class="text-center">
              <td>Hora</td>
              <td>Descripcion</td>
              <td>Agendado por</td>
           </tr>
        </thead>
        <tbody>        
             
       </tbody>
   </table>
   </div>
</div>

<!--Aca voy a poner un form flotante para pedir DNI al cargar nueva persona-->
<div class="modal" id="nuevaCita" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Nueva Cita</h5>
      </div>
      <div class="modal-body">
        <div class="form-row">
            <div class="form-group col-md-3">
              <label for="fecha">Dia</label>
              <input type="date" class="form-control" id="fecha_n">
            </div>
            <div class="form-group col-md-2">
              <label for="dni">Hora</label>
              <input type="time" class="form-control" id="hora">
            </div>

            <div class="form-group col-md-7">
              <label for="detalle">Detalle</label>
              <input type="text" class="form-control" id="detalle">
            </div>
          </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" onclick="GuardarCita();">Guardar</button>
        <button type="button" class="btn btn-secondary"  onclick="CerrarCita();" >Cerrar</button>
      </div>
    </div>
  </div>
</div>

<a id="flotante" class='flotante' href='InicioTodos.html' ><img src='home.png'/></a>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="js/bootstrap.min.js" ></script> 
    <script src="agenda.js" ></script> 
    <script>
        $(function () {
          $('[data-toggle="tooltip"]').tooltip()
        })

        $(document).ready(function(){
        $(".nav-tabs a").click(function(){
          $(this).tab('show');
        });
        $.post("ObtenerRol.php")
        .then((r)=>{
          if(r==1){
            $("#flotante").prop('hidden',false);
          }else{
            $("#flotante").prop('hidden',true);
          }
        })
        });
    </script>
</body>
</html>